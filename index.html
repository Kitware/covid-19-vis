<!DOCTYPE html>
<html>
<head>
  <title>
    COVID-19 Visualization
  </title>
  <script type="text/javascript" src="geo.min.js"></script>
  <!-- d3 has to be after geojs, as geojs bundles an older version -->
  <script type="text/javascript" src="https://unpkg.com/d3@5.15.1/dist/d3.min.js"></script>
  <script type="text/javascript" src="https://unpkg.com/c3@0.7.15/c3.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/c3@0.7.15/c3.min.css" type="text/css"/>
  <link rel="stylesheet" href="main.css" type="text/css"/>
</head>
<body>
  <div id="map"></div>
  <div id="control">
    <button onclick="playAction('play')">Play</button>
    <button onclick="playAction('step')">Step</button>
    <button onclick="playAction('stop')">Stop</button>
    Speed <input id="speed" value="1" onchange="if(playing)playAction('play')"/>
    <input id="curtime" onchange="setTime()"/>
    <input id="scrubber" type="range" min="0" value="0" oninput="setTime('#scrubber', true)"></input>
    <input id="county_confirmed" type="checkbox" checked="true" onchange="countyLayer.features()[2].visible($('#county_confirmed')[0].checked).draw()"></input><label for="county_confirmed">Confirmed</label>
    <input id="county_deaths" type="checkbox" checked="true" onchange="countyLayer.features()[3].visible($('#county_deaths')[0].checked).draw()"></input><label for="county_deaths">Deaths</label>
    <input id="markers" type="checkbox" checked="true" onchange="dotLayer.visible($('#markers')[0].checked);updateMarkerStyle()"></input><label for="markers">Markers</label>
    <label for="sampling">Sampling</label> <input id="sampling" value="2500" title="2500" type="range" min="500" max="10000" step="500" onchange="makeDots();$('#sampling').attr('title', $('#sampling').val())"/>

    <div>
      <input type="radio" name="mode" id="mode1" value="total"
        onclick="changeMode(this)" checked>
      <label for="mode1">Total cases</label>

      <input type="radio" name="mode" id="mode2"
        value="daily" onclick="changeMode(this)">
      <label for="mode2">Daily cases</label>

      <input type="radio" name="mode" id="mode3"
        value="logtotal" onclick="changeMode(this)">
      <label for="mode3">Total cases (logarithm)</label>

      <input type="radio" name="mode" id="mode4"
        value="logdaily" onclick="changeMode(this)">
      <label for="mode4">Daily cases (logarithm)</label>
    </div>

    <!--
    add legend
    add control for overage factor
    add tooltip for counties
    add graph for current view
    -->
  </div>
  <div id="graph"></div>
  <script type="text/javascript" src="main.js"></script>
</body>
</html>
